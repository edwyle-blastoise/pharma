{"ast":null,"code":"import _slicedToArray from\"/Volumes/HDD/work_Masha/Projects/pharma-test/pharma-test/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import AnchorLink from'react-anchor-link-smooth-scroll';import'./navbar.css';var Navbar=function Navbar(_ref){var menu=_ref.menu;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeId=_useState2[0],setState=_useState2[1];var _useState3=useState({x:0,y:0}),_useState4=_slicedToArray(_useState3,1),coordinates=_useState4[0];var handleScroll=function handleScroll(event){var appContent=document.querySelector('.app__content');coordinates.y=parseInt(window.getComputedStyle(appContent).top)+parseInt(window.getComputedStyle(appContent).marginTop);coordinates.x=appContent.lastChild.getBoundingClientRect().x;var currentElement=document.elementFromPoint(coordinates.x,coordinates.y);var id=currentElement.id.substr(5)-1;if(id>=0)onActiveLink(event,id);};window.addEventListener('scroll',handleScroll);var onActiveLink=function onActiveLink(event,index){document.getElementById(index).childNodes.forEach(function(child){return child.classList.add('anchor_active');});if(index!==activeId){document.getElementById(activeId).childNodes.forEach(function(child){child.classList.remove('anchor_active');});}setState(index);};var links=menu.map(function(point,index){return/*#__PURE__*/React.createElement(\"li\",{key:index,id:index},/*#__PURE__*/React.createElement(\"span\",{className:\"navbar__number\"},index+1,\". \"),/*#__PURE__*/React.createElement(AnchorLink,{offset:function offset(){return 80;},className:\"anchor\",href:'#card-'+(index+1),onClick:function onClick(event){return onActiveLink(event,index);}},point));});return/*#__PURE__*/React.createElement(\"div\",{className:\"navbar\"},/*#__PURE__*/React.createElement(\"p\",{className:\"navbar__title\"},\"\\u0421\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u043D\\u0438\\u0435 \\u0441\\u0442\\u0430\\u0442\\u044C\\u0438:\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar__list\"},links));};export default Navbar;","map":{"version":3,"sources":["/Volumes/HDD/work_Masha/Projects/pharma-test/pharma-test/src/components/side-bar/navbar/navbar.js"],"names":["React","useState","AnchorLink","Navbar","menu","activeId","setState","x","y","coordinates","handleScroll","event","appContent","document","querySelector","parseInt","window","getComputedStyle","top","marginTop","lastChild","getBoundingClientRect","currentElement","elementFromPoint","id","substr","onActiveLink","addEventListener","index","getElementById","childNodes","forEach","child","classList","add","remove","links","map","point"],"mappings":"2IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,iCAAvB,CAEA,MAAO,cAAP,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAY,IAAVC,CAAAA,IAAU,MAAVA,IAAU,eAEMH,QAAQ,CAAC,CAAD,CAFd,wCAEhBI,QAFgB,eAENC,QAFM,8BAIDL,QAAQ,CAAC,CAC3BM,CAAC,CAAE,CADwB,CAE3BC,CAAC,CAAE,CAFwB,CAAD,CAJP,yCAIhBC,WAJgB,eASvB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5B,GAAMC,CAAAA,UAAU,CAAGC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAnB,CAEAL,WAAW,CAACD,CAAZ,CAAgBO,QAAQ,CAACC,MAAM,CAACC,gBAAP,CAAwBL,UAAxB,EAAoCM,GAArC,CAAR,CAAoDH,QAAQ,CAACC,MAAM,CAACC,gBAAP,CAAwBL,UAAxB,EAAoCO,SAArC,CAA5E,CACAV,WAAW,CAACF,CAAZ,CAAgBK,UAAU,CAACQ,SAAX,CAAqBC,qBAArB,GAA6Cd,CAA7D,CAEA,GAAMe,CAAAA,cAAc,CAAGT,QAAQ,CAACU,gBAAT,CAA0Bd,WAAW,CAACF,CAAtC,CAAyCE,WAAW,CAACD,CAArD,CAAvB,CACA,GAAMgB,CAAAA,EAAE,CAAGF,cAAc,CAACE,EAAf,CAAkBC,MAAlB,CAAyB,CAAzB,EAA4B,CAAvC,CAEA,GAAID,EAAE,EAAI,CAAV,CAAaE,YAAY,CAACf,KAAD,CAAQa,EAAR,CAAZ,CAChB,CAVD,CAYAR,MAAM,CAACW,gBAAP,CAAwB,QAAxB,CAAkCjB,YAAlC,EAEA,GAAMgB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACf,KAAD,CAAQiB,KAAR,CAAkB,CACnCf,QAAQ,CAACgB,cAAT,CAAwBD,KAAxB,EAA+BE,UAA/B,CAA0CC,OAA1C,CAAkD,SAAAC,KAAK,QACnDA,CAAAA,KAAK,CAACC,SAAN,CAAgBC,GAAhB,CAAoB,eAApB,CADmD,EAAvD,EAGA,GAAIN,KAAK,GAAKvB,QAAd,CAAuB,CACnBQ,QAAQ,CAACgB,cAAT,CAAwBxB,QAAxB,EAAkCyB,UAAlC,CAA6CC,OAA7C,CAAqD,SAAAC,KAAK,CAAI,CAC1DA,KAAK,CAACC,SAAN,CAAgBE,MAAhB,CAAuB,eAAvB,EACH,CAFD,EAGH,CACD7B,QAAQ,CAACsB,KAAD,CAAR,CACH,CAVD,CAYA,GAAMQ,CAAAA,KAAK,CAAGhC,IAAI,CAACiC,GAAL,CAAS,SAACC,KAAD,CAAQV,KAAR,CAAkB,CACrC,mBACI,0BAAI,GAAG,CAAEA,KAAT,CAAgB,EAAE,CAAEA,KAApB,eACI,4BAAM,SAAS,CAAC,gBAAhB,EAAkCA,KAAK,CAAC,CAAxC,MADJ,cAEI,oBAAC,UAAD,EACI,MAAM,CAAE,wBAAM,GAAN,EADZ,CAEI,SAAS,CAAC,QAFd,CAGI,IAAI,CAAE,UAAYA,KAAK,CAAG,CAApB,CAHV,CAII,OAAO,CAAE,iBAACjB,KAAD,QAAWe,CAAAA,YAAY,CAACf,KAAD,CAAQiB,KAAR,CAAvB,EAJb,EAMKU,KANL,CAFJ,CADJ,CAaH,CAda,CAAd,CAgBA,mBACI,2BAAK,SAAS,CAAC,QAAf,eACI,yBAAG,SAAS,CAAC,eAAb,uGADJ,cAEI,0BAAI,SAAS,CAAC,cAAd,EACKF,KADL,CAFJ,CADJ,CAQH,CA3DD,CA6DA,cAAejC,CAAAA,MAAf","sourcesContent":["import React, { useState } from \"react\";\nimport AnchorLink from 'react-anchor-link-smooth-scroll';\n\nimport './navbar.css';\n\nconst Navbar = ({menu}) => {\n\n    const [activeId, setState] = useState(0);\n\n    const [coordinates] = useState({\n        x: 0,\n        y: 0\n    });\n\n    const handleScroll = (event) => {\n        const appContent = document.querySelector('.app__content');\n\n        coordinates.y = parseInt(window.getComputedStyle(appContent).top) + parseInt(window.getComputedStyle(appContent).marginTop);\n        coordinates.x = appContent.lastChild.getBoundingClientRect().x;\n\n        const currentElement = document.elementFromPoint(coordinates.x, coordinates.y);\n        const id = currentElement.id.substr(5)-1;\n\n        if (id >= 0) onActiveLink(event, id);\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    const onActiveLink = (event, index) => {\n        document.getElementById(index).childNodes.forEach(child =>\n            child.classList.add('anchor_active')\n        );\n        if (index !== activeId){\n            document.getElementById(activeId).childNodes.forEach(child => {\n                child.classList.remove('anchor_active')\n            })\n        }\n        setState(index);\n    };\n\n    const links = menu.map((point, index) => {\n        return (\n            <li key={index} id={index}>\n                <span className='navbar__number'>{index+1}. </span>\n                <AnchorLink\n                    offset={() => 80}\n                    className='anchor'\n                    href={'#card-' + (index + 1)}\n                    onClick={(event) => onActiveLink(event, index)}\n                >\n                    {point}\n                </AnchorLink>\n            </li>\n        )\n    });\n\n    return (\n        <div className='navbar'>\n            <p className='navbar__title'>Содержание статьи:</p>\n            <ul className='navbar__list'>\n                {links}\n            </ul>\n        </div>\n    )\n};\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}